# contingency table of observed counts
suicide_group  1=0%tile  2=25%tile  3=50%tile  4=75%tile
urban_group                                             
1=0%tile              9         11         15         14
2=25%tile            10         12         13         12
3=50%tile            13         12          7         15
4=75%tile            13         12         12          6

# column percentages
suicide_group  1=0%tile  2=25%tile  3=50%tile  4=75%tile
urban_group                                             
1=0%tile       0.200000   0.234043   0.319149   0.297872
2=25%tile      0.222222   0.255319   0.276596   0.255319
3=50%tile      0.288889   0.255319   0.148936   0.319149
4=75%tile      0.288889   0.255319   0.255319   0.127660

#chi-square value, p value, expected counts
(8.0033324144822107, 0.53381042398810985, 9L, 
array([[ 11.85483871,  12.38172043,  12.38172043,  12.38172043],
       [ 11.37096774,  11.87634409,  11.87634409,  11.87634409],
       [ 11.37096774,  11.87634409,  11.87634409,  11.87634409],
       [ 10.40322581,  10.8655914 ,  10.8655914 ,  10.8655914 ]]))

###post hoc test
# set 1
COMP1v2        37.0  58.0
suicide_group            
5.0               9    10
8.0              11    12
12.0             15    13
36.0             14    12

COMP1v2            37.0      58.0
suicide_group                    
5.0            0.183673  0.212766
8.0            0.224490  0.255319
12.0           0.306122  0.276596
36.0           0.285714  0.255319

chi-square value, p value, expected counts
(0.35129894335328293, 0.95010860730320457, 3L, 
array([[  9.69791667,   9.30208333],
       [ 11.73958333,  11.26041667],
       [ 14.29166667,  13.70833333],
       [ 13.27083333,  12.72916667]]))

# set 2 
COMP1v3        37.0  74.0
suicide_group            
5.0               9    13
8.0              11    12
12.0             15     7
36.0             14    15

COMP1v3            37.0      74.0
suicide_group                    
5.0            0.183673  0.276596
8.0            0.224490  0.255319
12.0           0.306122  0.148936
36.0           0.285714  0.319149

chi-square value, p value, expected counts
(3.6742527169289478, 0.29885534536734659, 3L, 
array([[ 11.22916667,  10.77083333],
       [ 11.73958333,  11.26041667],
       [ 11.22916667,  10.77083333],
       [ 14.80208333,  14.19791667]]))

# set 3 
COMP1v4        37.0   100.0
suicide_group              
5.0                9     13
8.0               11     12
12.0              15     12
36.0              14      6

COMP1v4           37.0      100.0
suicide_group                    
5.0            0.183673  0.302326
8.0            0.224490  0.279070
12.0           0.306122  0.279070
36.0           0.285714  0.139535

chi-square value, p value, expected counts
(3.9294933195265416, 0.26917891748668227, 3L, 
array([[ 11.7173913 ,  10.2826087 ],
       [ 12.25      ,  10.75      ],
       [ 14.38043478,  12.61956522],
       [ 10.65217391,   9.34782609]]))

# set 4
COMP2v3        58.0  74.0
suicide_group            
5.0              10    13
8.0              12    12
12.0             13     7
36.0             12    15

COMP2v3            58.0      74.0
suicide_group                    
5.0            0.212766  0.276596
8.0            0.255319  0.255319
12.0           0.276596  0.148936
36.0           0.255319  0.319149

chi-square value, p value, expected counts
(2.5246376811594202, 0.47085495303882874, 3L, 
array([[ 11.5,  11.5],
       [ 12. ,  12. ],
       [ 10. ,  10. ],
       [ 13.5,  13.5]]))

# set 5
COMP2v4        58.0   100.0
suicide_group              
5.0               10     13
8.0               12     12
12.0              13     12
36.0              12      6

COMP2v4           58.0      100.0
suicide_group                    
5.0            0.212766  0.302326
8.0            0.255319  0.279070
12.0           0.276596  0.279070
36.0           0.255319  0.139535

chi-square value, p value, expected counts
(2.2579867908697797, 0.52061726616436466, 3L, 
array([[ 12.01111111,  10.98888889],
       [ 12.53333333,  11.46666667],
       [ 13.05555556,  11.94444444],
       [  9.4       ,   8.6       ]]))

# set 6
COMP3v4        74.0   100.0
suicide_group              
5.0               13     13
8.0               12     12
12.0               7     12
36.0              15      6

COMP3v4           74.0      100.0
suicide_group                    
5.0            0.276596  0.302326
8.0            0.255319  0.279070
12.0           0.148936  0.279070
36.0           0.319149  0.139535

chi-square value, p value, expected counts
(5.0050410538964929, 0.17142838550746323, 3L, 
array([[ 13.57777778,  12.42222222],
       [ 12.53333333,  11.46666667],
       [  9.92222222,   9.07777778],
       [ 10.96666667,  10.03333333]]))
       
       
